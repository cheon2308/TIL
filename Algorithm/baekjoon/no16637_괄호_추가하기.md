[백준 16637_괄호 추가하기](https://www.acmicpc.net/problem/16637)



## 조건
- 길이가 N인 수식 -> 0보다 크고 9보다 작거나 같은 정수와 연산자(+,-,x)로 구성
- 연산자 우선순위는 모두 동일하기 때문에, 수식 계산은 왼쪽부터 순서대로 계산
- 이중 괄호는 불가하며, 괄호를 적절히 추가하여 만들 수 있는 식의 최댓값을 구하여라
- 또한 괄호 안에는 하나의 연산자만 있을 수 있다.


## 접근 방법
- 식을 받아줄 때 연산자의 인덱스는 홀수이다.
- 연산자의 수 = 전체 길이 // 2
- 최소 1개부터 최대 9개의 연산자가 올 수 있다.
- 따라서 부분집합을 구해준다.
- 또한 괄호가 쳐진 연산자 바로 뒤의 연산자는 괄호에 포함되지 않는다.
- 처음부터 모든 경우의 수를 통하여 괄호를 배치해주고
- eval 함수를 통하여 max값 갱신해주자



```python
import sys  
sys.stdin = open('input.txt')  
from itertools import combinations  
from copy import deepcopy  
  
N = int(input())  
form = input()  
# 연산자 인덱스  
oper_index = [i for i in range(1,len(form), 2)]  
  
# 부분집합 만들어주기  
# 조합 이용  
# 이 때, 연속되는 연산자 중 하나는 괄호에 포함 불가  
# 따라서 최대 괄호의 수 지정  
max_oper = len(oper_index) // 2  
b = []  
  
# 괄호 하나도 안했을 때의 값  
max_value = eval(form)  
result = deepcopy(form)  
# 괄호 하나씩만 사용  
for k in oper_index:  
    print(k)  
    result[k - 1] = '(' + form[k - 1]  
    result[k + 1] = str(form[k - 1]) + ')'  
  
  
    if eval(result) > max_value:  
        max_value = eval(result)  
  
# 2개부터 최대 괄호의 수  
for i in range(2,max_oper+1):  
    a = list(combinations(oper_index,i))  
    b.append(a)  
# 순회 해줄껀데, 연산자의 인덱스 차이가 2 이하라면 바로 종료  
  
for i in range(1,len(b)):  
    result = deepcopy(form)  
  
    for j in b[i]:  
  
        if eval('j - 2') in i:  
            break  
        else:  
            result[int(j)-1] = '(' + form[int(j)-1]  
            result[int(j)+1] = form[int(j)-1] + ')'  
  
    if eval(result) > max_value:  
        max_value = eval(result)  
  
print(max_value)
```


