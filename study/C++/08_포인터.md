
앞에 글에서 봤던 **주소를 담는 타입**이 바로 **포인터**이다.

-   포인터는 **변수의 메모리 주소를 가리키는 타입**이며 변수의 **첫번째 바이트 주소**를 가리킨다.

> **포인터의 크기**

-   포인터의 크기는 고정되어있지 않고 OS마다 다른데
-   OS가 32bit라면 **4바이트**, 64bit라면 **8바이트**로 고정
-   어떠한 타입이든(string, char, int 등) 상관없이 **무조건 4바이트 아니면 8바이트**로 고정
    -   1바이트짜리 CHAR 타입의 변수의 포인터 크기는 1바이트가 아니다. 
    -   집 주소의 크기는 집의 크기와 관련이 없다는 것을 생각하면 된다!

> **에스터리스크(asterisk operator)**

-   아래 코드를 보면 **int * a** 라는 **&i**라는 i의 주소를 담는 포인터를 정의한 것을 볼 수 있는데 **<타입> *** 형태로 포인터를 정의한다.
-   예를 들어 string 타입 변수의 메모리주소를 담을 때는 string * 하고 선언을 해야 한다.
-   여기서 ***** 를 **에스터리스크**라고 부른다.

```cpp
#include<bits/stdc++.h>
using namespace std;
int i;
string s = "hyeontae";
int main(){
	i = 0;
    int * a = & i;
    cout << a << '\n';
    string * b = &s;
    cout << b << '\n';
    
    return 0;
}
```

![](https://blog.kakaocdn.net/dn/dsJY3G/btr0n7TqZ8q/SfmozPmFo6h4r9xB789vD0/img.png)

> **역참조 연산자**

-   C++ 에서 *** 기호**는 사용하는 위치에 의해 **다양한 용도**로 사용
    -   이항 연산자로 사용하면 **곱셈 연산**으로,
    -   **포인터** **타입의 선언** 
    -   **역참조(dereference)**로 메모리를 기반으로 **변수의 값에 접근**할 때도 사용
-   아래 코드에는 **b라는 포인터를 정의**했고 이 포인터에 *** 연산자를 통해 역참조**를 걸어 **주소값을 기반**으로 값을 끄집어 낼 수 있다.

```cpp
#include<bits/stdc++.h>
using namespace std;
int main(){
	string a = "abcda";
    string * b = &a;
    cout << b << "\n";
    cout << *b << "\n";
    return 0;
    
    /*
	0x6ffdf0
	abcda
	*/

}
```

![](https://blog.kakaocdn.net/dn/b2wZzP/btr0nTVn906/jzD63QyVk6w49W9lkgpUNK/img.png)

> **배열 이름과 포인터**

-   배열의 이름은 포인터로 **decay** 될 수 있다. (**array to pointer decay**)
-   **decay**라는 것은 **배열의 이름을 T * 라는 포인터에 할당**하면서 T[N]이란 배열의 크기 정보 N이 없어지고 **첫번째 요소의 주소가 바인딩**되는 현상을 의미
-   이를 통해서 배열의 이름은 배열의 첫번째 주소로 사용 가능
-   참고로 vector는 불가 -> array만 가능

```cpp
#include<bits/stdc++.h>
using namespace std;
int a[3] = {1,2,3};
int main(){
    int * b = &a[0];
    int * c = a;
    cout << b << "\n";
    cout << c << "\n";
    return 0;
}

/*
0x102af8000
0x102af8000
*/
```

-   **&a[0]와 a가 같은 의미**로 쓰이는 것을 볼 수 있음
-   아래 코드처럼 &a[1]을 a+1로도 표현이 가능하다.

```cpp
#include<bits/stdc++.h>
using namespace std;
int a[3] = {1,2,3};
int main(){
    int * b = &a[0];
    int * c = a;
    int * d = (a + 1);
    cout << b << "\n";
    cout << c << "\n";
    cout << d << '\n';
    cout << &a[1] << '\n';
    return 0;
}

/*
0x104158000
0x104158000
0x104158004
0x104158004
*/
```

**※ 참고** -> C++에서는 **문자**를 나타낼 땐 **작은 따옴표,** **문자열**을 나타낼 땐 **큰 따옴표를** 사용한다.

> **포인터 사용처**

-   메모리 동적할당
-   데이터를 복사하지 않고 함수 매개변수로 사용
-   클래스 및 구조체를 연결할 때 사용(연결리스트 등)